import { INSTRUMENTER_CONSTANTS } from '@stryker-mutator/api/core';
import { commonTokens, tokens } from '@stryker-mutator/api/plugin';
import { MochaAdapter } from './mocha-adapter.js';
import { MochaOptionsLoader } from './mocha-options-loader.js';
import { MochaTestRunner } from './mocha-test-runner.js';
import * as pluginTokens from './plugin-tokens.js';
export const createMochaTestRunner = createMochaTestRunnerFactory();
export function createMochaTestRunnerFactory(namespace = INSTRUMENTER_CONSTANTS.NAMESPACE) {
    mochaTestRunnerFactory.inject = tokens(commonTokens.injector);
    function mochaTestRunnerFactory(injector) {
        return injector
            .provideClass(pluginTokens.loader, MochaOptionsLoader)
            .provideClass(pluginTokens.mochaAdapter, MochaAdapter)
            .provideValue(pluginTokens.globalNamespace, namespace)
            .injectClass(MochaTestRunner);
    }
    return mochaTestRunnerFactory;
}
//# sourceMappingURL=mocha-runner-factories.js.map